(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function p(){}function be(e){return e()}function ce(){return Object.create(null)}function A(e){e.forEach(be)}function $e(e){return typeof e=="function"}function z(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ce(e){return Object.keys(e).length===0}function ve(e,...t){if(e==null)return p;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Z(e,t,n){e.$$.on_destroy.push(ve(t,n))}function a(e,t){e.appendChild(t)}function E(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function le(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function L(){return $(" ")}function Le(){return $("")}function H(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function M(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ne(e){return Array.from(e.childNodes)}function R(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function se(e,t,n,r){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function ue(e,t,n){e.classList[n?"add":"remove"](t)}let re;function P(e){re=e}const I=[],fe=[],B=[],de=[],je=Promise.resolve();let ee=!1;function Ae(){ee||(ee=!0,je.then(xe))}function te(e){B.push(e)}const X=new Set;let T=0;function xe(){const e=re;do{for(;T<I.length;){const t=I[T];T++,P(t),Ge(t.$$)}for(P(null),I.length=0,T=0;fe.length;)fe.pop()();for(let t=0;t<B.length;t+=1){const n=B[t];X.has(n)||(X.add(n),n())}B.length=0}while(I.length);for(;de.length;)de.pop()();ee=!1,X.clear(),P(e)}function Ge(e){if(e.fragment!==null){e.update(),A(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}const K=new Set;let N;function ke(){N={r:0,c:[],p:N}}function we(){N.r||A(N.c),N=N.p}function k(e,t){e&&e.i&&(K.delete(e),e.i(t))}function j(e,t,n,r){if(e&&e.o){if(K.has(e))return;K.add(e),N.c.push(()=>{K.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ne(e){e&&e.c()}function D(e,t,n,r){const{fragment:l,on_mount:i,on_destroy:o,after_update:u}=e.$$;l&&l.m(t,n),r||te(()=>{const c=i.map(be).filter($e);o?o.push(...c):A(c),e.$$.on_mount=[]}),u.forEach(te)}function U(e,t){const n=e.$$;n.fragment!==null&&(A(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ie(e,t){e.$$.dirty[0]===-1&&(I.push(e),Ae(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(e,t,n,r,l,i,o,u=[-1]){const c=re;P(e);const s=e.$$={fragment:null,ctx:null,props:i,update:p,not_equal:l,bound:ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:ce(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};o&&o(s.root);let m=!1;if(s.ctx=n?n(e,t.props||{},(_,O,...y)=>{const v=y.length?y[0]:O;return s.ctx&&l(s.ctx[_],s.ctx[_]=v)&&(!s.skip_bound&&s.bound[_]&&s.bound[_](v),m&&Ie(e,_)),O}):[],s.update(),m=!0,A(s.before_update),s.fragment=r?r(s.ctx):!1,t.target){if(t.hydrate){const _=Ne(t.target);s.fragment&&s.fragment.l(_),_.forEach(w)}else s.fragment&&s.fragment.c();t.intro&&k(e.$$.fragment),D(e,t.target,t.anchor,t.customElement),xe()}P(c)}class J{$destroy(){U(this,1),this.$destroy=p}$on(t,n){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(t){this.$$set&&!Ce(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const G=[];function Pe(e,t){return{subscribe:Q(e,t).subscribe}}function Q(e,t=p){let n;const r=new Set;function l(u){if(z(e,u)&&(e=u,n)){const c=!G.length;for(const s of r)s[1](),G.push(s,e);if(c){for(let s=0;s<G.length;s+=2)G[s][0](G[s+1]);G.length=0}}}function i(u){l(u(e))}function o(u,c=p){const s=[u,c];return r.add(s),r.size===1&&(n=t(l)||p),u(e),()=>{r.delete(s),r.size===0&&(n(),n=null)}}return{set:l,update:i,subscribe:o}}function ze(e,t,n){const r=!Array.isArray(e),l=r?[e]:e,i=t.length<2;return Pe(n,o=>{let u=!1;const c=[];let s=0,m=p;const _=()=>{if(s)return;m();const y=t(r?c[0]:c,o);i?o(y):m=$e(y)?y:p},O=l.map((y,v)=>ve(y,x=>{c[v]=x,s&=~(1<<v),u&&_()},()=>{s|=1<<v}));return u=!0,_(),function(){A(O),m()}})}const He={key:null,code:null},Te={x:0,y:0},q={minSize:5,maxSize:25,initSize:8},W={h:{x:-1,y:0,desc:"LEFT"},j:{x:0,y:1,desc:"DOWN"},k:{x:0,y:-1,desc:"UP"},l:{x:1,y:0,desc:"RIGHT"}};function qe(e,t,n){console.log(e),console.log(t),console.log(n);let r=e-1,l=t.x+n.x,i=t.y+n.y;return l>r&&i==r&&(l=0,i=0),l>r&&i<r&&(l=0,i+=1),l<0&&i>0&&(l=r,i-=1),l<0&&i==0&&(l=r),i<0&&(i=r),i>r&&(i=0),{x:l,y:i}}function Be(){const{subscribe:e,set:t}=Q(He);return{subscribe:e,log:n=>t({key:n.key,code:n.keyCode})}}function Ke(){const{subscribe:e,set:t,update:n}=Q(q.initSize);return{subscribe:e,add:r=>n(l=>l+r>q.maxSize?l:l+r),reduce:r=>n(l=>l-r<q.minSize?l:l-r),reset:()=>t(q.initSize)}}function Fe(){const{subscribe:e,set:t,update:n}=Q(Te);return{subscribe:e,move:(r,l)=>n(i=>qe(r,l,i))}}const Ee=Be(),F=Ke(),Oe=Fe(),Me=ze(Ee,e=>W[e.key],{x:0,y:0});function ae(e,t,n){const r=e.slice();return r[0]=t[n][0],r[1]=t[n][1],r}function he(e){let t,n,r=e[0]+"",l,i,o,u=e[1].desc.toLowerCase()+"",c,s;return{c(){t=b("div"),n=b("kbd"),l=$(r),i=L(),o=b("span"),c=$(u),s=L()},m(m,_){E(m,t,_),a(t,n),a(n,l),a(t,i),a(t,o),a(o,c),a(t,s)},p,d(m){m&&w(t)}}}function Re(e){let t,n=Object.entries(W),r=[];for(let l=0;l<n.length;l+=1)r[l]=he(ae(e,n,l));return{c(){t=b("div");for(let l=0;l<r.length;l+=1)r[l].c();M(t,"class","wrapper svelte-12df3bt")},m(l,i){E(l,t,i);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(l,[i]){if(i&0){n=Object.entries(W);let o;for(o=0;o<n.length;o+=1){const u=ae(l,n,o);r[o]?r[o].p(u,i):(r[o]=he(u),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:p,o:p,d(l){l&&w(t),le(r,l)}}}function De(e){return console.log(Object.entries(W)),[]}class Ue extends J{constructor(t){super(),Y(this,t,De,Re,z,{})}}function We(e){let t,n,r,l;return{c(){t=b("div"),n=$(e[0]),r=$(","),l=$(e[1]),M(t,"class","svelte-1ifyfrj"),ue(t,"selected",e[0]===e[2].x&&e[1]===e[2].y)},m(i,o){E(i,t,o),a(t,n),a(t,r),a(t,l)},p(i,[o]){o&1&&R(n,i[0]),o&2&&R(l,i[1]),o&7&&ue(t,"selected",i[0]===i[2].x&&i[1]===i[2].y)},i:p,o:p,d(i){i&&w(t)}}}function Ye(e,t,n){let r;Z(e,Oe,o=>n(2,r=o));let{idx:l}=t,{idy:i}=t;return e.$$set=o=>{"idx"in o&&n(0,l=o.idx),"idy"in o&&n(1,i=o.idy)},[l,i,r]}class Je extends J{constructor(t){super(),Y(this,t,Ye,We,z,{idx:0,idy:1})}}function _e(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function ge(e,t,n){const r=e.slice();return r[5]=t[n],r[9]=n,r}function me(e){let t,n;return t=new Je({props:{idx:e[9],idy:e[7]}}),{c(){ne(t.$$.fragment)},m(r,l){D(t,r,l),n=!0},p,i(r){n||(k(t.$$.fragment,r),n=!0)},o(r){j(t.$$.fragment,r),n=!1},d(r){U(t,r)}}}function pe(e){let t,n,r={length:e[0]},l=[];for(let o=0;o<r.length;o+=1)l[o]=me(ge(e,r,o));const i=o=>j(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=Le()},m(o,u){for(let c=0;c<l.length;c+=1)l[c].m(o,u);E(o,t,u),n=!0},p(o,u){if(u&1){r={length:o[0]};let c;for(c=0;c<r.length;c+=1){const s=ge(o,r,c);l[c]?(l[c].p(s,u),k(l[c],1)):(l[c]=me(s),l[c].c(),k(l[c],1),l[c].m(t.parentNode,t))}for(ke(),c=r.length;c<l.length;c+=1)i(c);we()}},i(o){if(!n){for(let u=0;u<r.length;u+=1)k(l[u]);n=!0}},o(o){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)j(l[u]);n=!1},d(o){le(l,o),o&&w(t)}}}function Qe(e){let t,n,r,l,i,o,u,c,s,m=e[0]**2+"",_,O,y,v,x,S,V,oe,C={length:e[0]},d=[];for(let f=0;f<C.length;f+=1)d[f]=pe(_e(e,C,f));const Se=f=>j(d[f],1,1,()=>{d[f]=null});return{c(){t=b("div"),n=b("button"),n.textContent="add cells",r=L(),l=b("button"),l.textContent="reset cells",i=L(),o=b("button"),o.textContent="reduce cells",u=L(),c=b("div"),s=$("total cells: "),_=$(m),O=$(" width: "),y=$(e[0]),v=L(),x=b("div");for(let f=0;f<d.length;f+=1)d[f].c();M(t,"class","grid-config"),M(x,"class","cell-container svelte-97fpwq"),se(x,"--cols",e[0])},m(f,g){E(f,t,g),a(t,n),a(t,r),a(t,l),a(t,i),a(t,o),a(t,u),a(t,c),a(c,s),a(c,_),a(c,O),a(c,y),E(f,v,g),E(f,x,g);for(let h=0;h<d.length;h+=1)d[h].m(x,null);S=!0,V||(oe=[H(window,"keydown",e[1]),H(n,"click",e[2]),H(l,"click",F.reset),H(o,"click",e[3])],V=!0)},p(f,[g]){if((!S||g&1)&&m!==(m=f[0]**2+"")&&R(_,m),(!S||g&1)&&R(y,f[0]),g&1){C={length:f[0]};let h;for(h=0;h<C.length;h+=1){const ie=_e(f,C,h);d[h]?(d[h].p(ie,g),k(d[h],1)):(d[h]=pe(ie),d[h].c(),k(d[h],1),d[h].m(x,null))}for(ke(),h=C.length;h<d.length;h+=1)Se(h);we()}(!S||g&1)&&se(x,"--cols",f[0])},i(f){if(!S){for(let g=0;g<C.length;g+=1)k(d[g]);S=!0}},o(f){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)j(d[g]);S=!1},d(f){f&&w(t),f&&w(v),f&&w(x),le(d,f),V=!1,A(oe)}}}let ye=1;function Ve(e,t,n){let r,l;Z(e,Me,c=>n(4,r=c)),Z(e,F,c=>n(0,l=c));function i(c){Ee.log(c),Oe.move(l,r)}return[l,i,()=>F.add(ye),()=>F.reduce(ye)]}class Xe extends J{constructor(t){super(),Y(this,t,Ve,Qe,z,{})}}function Ze(e){let t,n,r,l,i;return n=new Xe({}),l=new Ue({}),{c(){t=b("main"),ne(n.$$.fragment),r=L(),ne(l.$$.fragment)},m(o,u){E(o,t,u),D(n,t,null),a(t,r),D(l,t,null),i=!0},p,i(o){i||(k(n.$$.fragment,o),k(l.$$.fragment,o),i=!0)},o(o){j(n.$$.fragment,o),j(l.$$.fragment,o),i=!1},d(o){o&&w(t),U(n),U(l)}}}class et extends J{constructor(t){super(),Y(this,t,null,Ze,z,{})}}new et({target:document.getElementById("app")});
